 // Add a line connecting all points in the track

 var s = new OpenLayers.StyleMap({
   'strokeWidth': 7,
   'strokeColor': '#FF0000'
 });

 var a = new Array()
 <% data.range.each do |i| %>
   l = new OpenLayers.LonLat(<%= data[i].lon %>, <%= data[i].lat %>).
       transform( fromProjection, toProjection);
   point = new OpenLayers.Geometry.Point(l.lon, l.lat);
   a.push(new OpenLayers.Feature.Vector(point));
 <% end %>

 line = new OpenLayers.Layer.PointTrack("The line", {'styleMap': s});
 line.addNodes(a);
 map.addLayer(line);
